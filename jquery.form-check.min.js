(function(d,h,j){var f=function(){return{init:function(m,n,p){var o=this;o.$opt=m;o.$elem=n;o.$call=p;o._setup()},_setup:function(){var m=this;$checks=m.$opt.checkInputs;$submit=m.$elem.find("[type='submit'],[data-check-button]");$checks.each(function(n,o){d(o).on("focus",function(){m.clearMsg(d(o))}).on("blur",function(){m.checkInput(d(o))})});$submit.each(function(n,o){d(o).on("click",function(){return m.submitForm(d(o).parents("form"))})})},clearMsg:function(m){m.removeClass("error").removeClass("checked").addClass("checking").siblings(".errormsg").remove()},checkInput:function(o){var n=this;n.clearMsg(o);_err=!1;checksObj=o.data("validate");if(checksObj==""||typeof(checksObj)!="object"){checksObj={require:true}}for(var m in checksObj){if(!n.checkItem(o,m,checksObj[m].toString())){n.showMsg(o,m,checksObj[m].toString());_err=!0;break}}if(!_err){o.addClass("checked").removeClass("error").removeClass("checking").data("checked",1)}},checkItem:function(n,m,o){_val=o.split("###")[0];if(m=="require"){return b(n.val())!=""}if(m=="username"){return n.val()!=""?k(n.val()):true}if(m=="password"){return n.val()!=""?l(n.val()):true}if(m=="email"){return n.val()!=""?e(n.val()):true}if(m=="telephone"){return n.val()!=""?c(n.val()):true}if(m=="url"){return n.val()!=""?a(n.val()):true}if(m=="regex"){return n.val()!=""?g(n.val(),_val):true}if(m=="min"){return n.val().length>=_val}if(m=="max"){return n.val().length<=_val}if(m=="ajax"){res=false;d.ajax({url:_val,async:false,data:{v:n.val()},success:function(p){res=p=="true"?true:false}});return res}if(m=="equal"){return n.val()==d("#"+_val).val()}},showMsg:function(o,m,p){var n=this;o.removeClass("checked").addClass("error").data("checked",0);_msg=p.split("###")[1];_val=p.split("###")[0];if(m=="require"){o.parent().append("<span class='errormsg'>"+(_msg||"该项为必填项")+"</span>")}if(m=="username"){o.parent().append("<span class='errormsg'>"+(_msg||"账号格式不正确")+"</span>")}if(m=="email"){o.parent().append("<span class='errormsg'>"+(_msg||"邮箱格式不正确")+"</span>")}if(m=="password"){o.parent().append("<span class='errormsg'>"+(_msg||"密码格式不正确")+"</span>")}if(m=="telephone"){o.parent().append("<span class='errormsg'>"+(_msg||"手机号格式不正确")+"</span>")}if(m=="url"){o.parent().append("<span class='errormsg'>"+(_msg||"网址格式不正确")+"</span>")}if(m=="regex"){o.parent().append("<span class='errormsg'>"+(_msg||"验证错误")+"</span>")}if(m=="min"){o.parent().append("<span class='errormsg'>"+(_msg||"长度不能少于"+_val+"位")+"</span>")}if(m=="max"){o.parent().append("<span class='errormsg'>"+(_msg||"长度不能大于"+_val+"位")+"</span>")}if(m=="equal"){o.parent().append("<span class='errormsg'>"+(_msg||"该项要与"+_val+"项相同")+"</span>")}if(m=="ajax"){o.parent().append("<span class='errormsg'>"+(_msg||"验证错误")+"</span>")}},submitForm:function(m){var n=this;$checks=n.$opt.checkInputs;_err=!0;for(i=0;i<$checks.length;i++){if($checks.eq(i).data("checked")==undefined||$checks.eq(i).data("checked")!="1"){n.checkInput($checks.eq(i));_err=!1}}if(_err){return n.$call()}},}};d.fn.formCheck=function(n){options=d.extend({checkInputs:this.find("[data-validate]")});var m=new f();m.init(options,this,n)};function b(m){return m.replace(/(^\s*)|(\s*$)/g,"")}function k(m){return/^[a-zA-Z]{1}[0-9a-zA-Z_]{0,14}[0-9a-zA-Z]{1}$/.test(m)}function l(m){return/^.*(?=.{6,16})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/.test(m)}function e(m){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(m)}function g(m,n){return new RegExp(n).test(m)}function c(m){return/^1[0-9]{10}$/.test(m)}function a(m){return/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(m)}}(jQuery,window,document));